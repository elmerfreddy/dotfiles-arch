<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "urn:fontconfig:fonts.dtd">
<!-- ============================================
     Fontconfig - Configuracion de fuentes
     Fallback chain para iconos Nerd Font,
     hinting y antialiasing optimizados.
     ============================================ -->
<fontconfig>

    <!-- ===========================================
         Renderizado global
         =========================================== -->
    <match target="font">
        <!-- Antialiasing activado -->
        <edit name="antialias" mode="assign">
            <bool>true</bool>
        </edit>
        <!-- Hinting activado -->
        <edit name="hinting" mode="assign">
            <bool>true</bool>
        </edit>
        <!-- Estilo de hinting ligero (mejor para pantallas modernas) -->
        <edit name="hintstyle" mode="assign">
            <const>hintslight</const>
        </edit>
        <!-- Subpixel rendering RGB (para LCD) -->
        <edit name="rgba" mode="assign">
            <const>rgb</const>
        </edit>
        <!-- Filtro LCD -->
        <edit name="lcdfilter" mode="assign">
            <const>lcddefault</const>
        </edit>
        <!-- Autohinter desactivado (usar hinting nativo de la fuente) -->
        <edit name="autohint" mode="assign">
            <bool>false</bool>
        </edit>
    </match>

    <!-- ===========================================
         Fallback: monospace
         Orden de prioridad para fuentes monospace.
         Si un glifo (icono) no existe en la primera
         fuente, pasa a la siguiente automaticamente.
         =========================================== -->
    <alias>
        <family>monospace</family>
        <prefer>
            <family>JetBrainsMono Nerd Font</family>
            <family>FiraCode Nerd Font</family>
            <family>Hack Nerd Font</family>
            <family>CaskaydiaCove Nerd Font</family>
            <family>SauceCodePro Nerd Font</family>
            <family>UbuntuMono Nerd Font</family>
            <family>InconsolataGo Nerd Font</family>
            <family>Iosevka Nerd Font</family>
            <family>MesloLGS Nerd Font</family>
            <family>RobotoMono Nerd Font</family>
            <family>DroidSansM Nerd Font</family>
            <family>Symbols Nerd Font Mono</family>
            <family>Font Awesome 6 Free Solid</family>
            <family>Font Awesome 6 Free Regular</family>
            <family>Font Awesome 6 Brands Regular</family>
            <family>Noto Sans Mono</family>
            <family>Liberation Mono</family>
        </prefer>
    </alias>

    <!-- ===========================================
         Fallback: sans-serif
         =========================================== -->
    <alias>
        <family>sans-serif</family>
        <prefer>
            <family>Noto Sans</family>
            <family>Symbols Nerd Font</family>
            <family>Font Awesome 6 Free Solid</family>
            <family>Font Awesome 6 Brands Regular</family>
            <family>Noto Sans CJK SC</family>
            <family>Noto Color Emoji</family>
            <family>Liberation Sans</family>
        </prefer>
    </alias>

    <!-- ===========================================
         Fallback: serif
         =========================================== -->
    <alias>
        <family>serif</family>
        <prefer>
            <family>Noto Serif</family>
            <family>Noto Serif CJK SC</family>
            <family>Noto Color Emoji</family>
            <family>Liberation Serif</family>
        </prefer>
    </alias>

    <!-- ===========================================
         Fallback: system-ui
         Para aplicaciones que piden "system-ui"
         =========================================== -->
    <alias>
        <family>system-ui</family>
        <prefer>
            <family>Noto Sans</family>
            <family>Symbols Nerd Font</family>
            <family>Noto Color Emoji</family>
        </prefer>
    </alias>

    <!-- ===========================================
         Mapeo de nombres genericos
         Cuando una app pide "Courier New", etc.
         =========================================== -->
    <alias binding="same">
        <family>Courier New</family>
        <prefer>
            <family>JetBrainsMono Nerd Font</family>
        </prefer>
    </alias>

    <alias binding="same">
        <family>Consolas</family>
        <prefer>
            <family>JetBrainsMono Nerd Font</family>
        </prefer>
    </alias>

    <!-- ===========================================
         Emoji: asegurar Noto Color Emoji
         para todo caracter emoji
         =========================================== -->
    <match target="pattern">
        <test name="family" qual="any">
            <string>emoji</string>
        </test>
        <edit name="family" mode="prepend" binding="strong">
            <string>Noto Color Emoji</string>
        </edit>
    </match>

    <!-- Fallback global de emojis en cualquier fuente -->
    <match target="pattern">
        <edit name="family" mode="append">
            <string>Noto Color Emoji</string>
        </edit>
    </match>

    <!-- ===========================================
         Desactivar fuentes bitmap (obsoletas)
         =========================================== -->
    <selectfont>
        <rejectfont>
            <pattern>
                <patelt name="scalable">
                    <bool>false</bool>
                </patelt>
            </pattern>
        </rejectfont>
    </selectfont>

</fontconfig>
